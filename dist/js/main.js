(()=>{"use strict";const e=async e=>{let t=await fetch("https://www.cbr-xml-daily.ru/daily_json.js"),r=await t.json();return"RUB"===e?1:r.Valute[e].Value};document.querySelector(".currency-value").addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D/gi,"")})),(()=>{const e=document.querySelector(".converter-icon"),t=document.querySelector(".currency"),r=document.querySelector(".currency-output");e.addEventListener("click",(e=>{e.preventDefault();let c=t.selectedIndex;t.selectedIndex=r.selectedIndex,r.selectedIndex=c}))})(),(()=>{const t=document.querySelector(".converter-aria");let r=document.querySelector(".currency-value"),c=document.querySelector(".currency-value-output"),u=document.querySelector(".currency"),a=document.querySelector(".currency-output"),n=document.querySelector(".converter-icon"),l=document.querySelector(".actual_date");const o=async()=>{let t=u.selectedIndex,n=a.selectedIndex,l=await e(`${u[t].getAttribute("value")}`),o=await e(`${a[n].getAttribute("value")}`);switch(!0){case t===n:return void(c.value=r.value);case 0===n:return void(c.value=(r.value*l).toFixed(2));case 0===t:return void(c.value=(r.value/o).toFixed(2));case n>0:return void(c.value=(r.value*l/o).toFixed(2))}};t.addEventListener("click",(e=>{e.target!==n&&e.target!==u&&e.target!==a||o()})),r.addEventListener("input",o),o(),(async()=>{const e=await(async()=>{let e=await fetch("https://www.cbr-xml-daily.ru/daily_json.js"),t=await e.json();return{year:t.Timestamp.substr(0,4),month:t.Timestamp.substr(5,2),day:t.Timestamp.substr(8,2)}})();l.innerText=`${e.day}.${e.month}.${e.year}`})()})()})();